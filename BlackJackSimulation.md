# Blackjack Simulation
영어로 쓰려고 노력 해보았으나 영어는 아직 내게 익숙하지 않으니까 한글로 써보자

본 시뮬레이션은 블랙잭의 룰이 만드는 플레이어의 승률 및 딜러의 승률을 직접 확인하기 위해 구상되었다. 나아가서 룰의 변화 또는 플레이어의 전략에 따라 그 승률이 어떻게 변화하는지 확인하고자 한다.

상황의 단순화를 위해 블랙잭에서 사용되는 배팅과 관련된 상세 룰은 무시한다. 이 부분은 추후에 도입하여 확인하고자 한다.

# 블랙잭의 기본 룰
Blackjack Simulation을 실행하기 전에 우선 어떤 룰에 따라 해당 시뮬레이션을 돌렸는지 확인하자.

## 블랙잭의 승리 조건
간단하게 다음 한 줄로 표현이 가능하다.
> **카드의 합이 21을 넘지 않는 선에서 21에 가까우면 승리한다.**

## 시뮬레이션 진행 과정
실제 블랙잭의 전체적인 흐름을 깨지 않는 선에서 룰을 단순화 시켰다. 

 1. **$N$명의 플레이어** 및 **딜러**에게 패를 **2장**씩 나눠준다. *이 때, 덱은 무한히 존재한다고 가정한다.*

실제 블랙잭에서는 딜러의 패는 한장은 공개, 한장은 비공개이지만 시뮬레이션에선 패의 공개여부는 고려하지 않는다.

 2. 첫번째 플레이어에게 **$P$의 확률**로 카드를 받는다. 이 과정은 플레이어가 받지 않거나 **Burst** 될때 까지 연속적으로 시행한다.

**Burst**란, 손패의 합이 21이 넘어갈 경우를 이야기한다. 이 때, J, Q, K는 모두 10으로 취급하고, A는 플레이어의 의사에 따라 자유롭게 1 또는 11이 될 수 있다.
이 때, 첫 두장의 패로 21이 되는 경우를 **블랙잭**이라 하고, 일정 배수의 판돈을 가져간다는 룰이 있지만  배제하고 진행하겠다.
즉, 이 과정에서는 플레이어가 패를 뽑을 확률 $P$에만 집중하고자한다.

 3. 2번 과정이 종료되면 $N$명의 플레이어에게 동일하게 한명씩 2번 과정을 시행한다.
 
 5. 모든 플레이어가 패를 확정했으면, 그 다음 딜러가 패를 한장씩 받는다. 이 때, 딜러는 패의 합이 $L$ 미만이라면 무조건 패를 받아야하며, 그 이상이면 받지 않는다.

일반적인 블랙잭에서는 $L = 16$이지만, 이 시뮬레이션에서는 $L$의 변화에 따른 딜러의 승률 또한 확인하고자 한다.

5. 위 과정이 모두 끝나면 승패를 결정한다.

이 과정은 게임의 단순화를 위해 다음과 같은 규칙으로 진행하겠다.

$M_i$ : 초기자금. 모두 동일하게 시작 (단위 : 만원)
$M_g$: 판돈. 매 게임 같은 금액 (단위 : 만원)
$r$ : 승리시 받는 비율. 예를 들어 $r=1.5$이라면$1.5M_g$ 만큼 돌려받는다
- **(패배)** Burst되거나 딜러보다 패의 합이 낮다면 판돈을 잃는다.
- **(승리)** 패의 합이 딜러보다 높다면 $r M_g$를 얻는다.
- **(무승부)** 패의 합이 딜러와 같다면 $M_g$를 받는다.

이렇게 총 $M$번의 게임이 진행되었을 때, 여러가지 요소에 대해 확인하고자 한다.
> Written with [StackEdit](https://stackedit.io/).
